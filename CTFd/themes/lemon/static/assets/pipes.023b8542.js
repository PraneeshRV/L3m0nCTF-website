document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("pipes-canvas");if(!e)return;const t=e.getContext("2d");let h,s,r=[];const c=20,o=2,a=["#DFFF00","#CCFF00","#FFFF00"];function d(){h=window.innerWidth,s=window.innerHeight,e.width=h,e.height=s}window.addEventListener("resize",d),d();class y{constructor(){this.reset()}reset(){this.x=Math.random()*h,this.y=Math.random()*s,this.direction=Math.floor(Math.random()*4),this.color=a[Math.floor(Math.random()*a.length)],this.history=[],this.maxLength=50+Math.random()*100,this.life=0,this.width=2+Math.random()*3}update(){if(this.life++,this.life>this.maxLength){this.reset();return}switch(this.history.push({x:this.x,y:this.y}),this.history.length>this.maxLength&&this.history.shift(),this.direction){case 0:this.y-=o;break;case 1:this.x+=o;break;case 2:this.y+=o;break;case 3:this.x-=o;break}Math.random()<.02&&(this.direction=(this.direction+(Math.random()<.5?1:3))%4),(this.x<0||this.x>h||this.y<0||this.y>s)&&this.reset()}draw(){if(t.beginPath(),t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap="round",t.lineJoin="round",t.shadowBlur=10,t.shadowColor=this.color,this.history.length>0){t.moveTo(this.history[0].x,this.history[0].y);for(let n=1;n<this.history.length;n++)t.lineTo(this.history[n].x,this.history[n].y);t.lineTo(this.x,this.y)}t.stroke(),t.shadowBlur=0}}for(let i=0;i<c;i++)r.push(new y);function l(){t.fillStyle="rgba(10, 10, 10, 0.1)",t.fillRect(0,0,h,s),r.forEach(i=>{i.update(),i.draw()}),requestAnimationFrame(l)}l()});
